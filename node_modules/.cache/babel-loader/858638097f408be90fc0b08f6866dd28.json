{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ajinn/Desktop/comp secure/classbadbad-blog-front/src/components/Comment.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Moment from 'react-moment';\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nconst ROLE = {\n  ADMIN: \"ADMIN\",\n  USER: \"USER\"\n};\n\nconst Comment = ({\n  postId,\n  postAuthor,\n  commentId,\n  content,\n  isEdited,\n  timestamp,\n  commentAuthor,\n  commentAuthorName,\n  userId,\n  userRole,\n  getAllPosts\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const token = JSON.parse(localStorage.getItem('token'));\n\n  const handleDeleteComment = async () => {\n    try {\n      const response = await axios.delete(\"http://localhost:3000/post/comment/\" + postId + \"/\" + commentId, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const {\n        message\n      } = response.data;\n\n      if (message) {\n        console.log(message);\n        getAllPosts();\n      } else {\n        console.log(\"DeleteComment Error\");\n      }\n    } catch (e) {\n      console.log(\"There are something wrong about delete comment :(\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.authorDetail,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.owner,\n          children: commentAuthorName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), postAuthor === commentAuthor && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.postAuthor,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Moment, {\n          className: classes.time,\n          fromNow: true,\n          children: timestamp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), (userRole === ROLE.ADMIN || userId === commentAuthor) && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(EditIcon, {\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DeleteIcon, {\n          className: classes.icon,\n          onClick: () => handleDeleteComment()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), userId === postAuthor && userId !== commentAuthor && /*#__PURE__*/_jsxDEV(DeleteIcon, {\n        className: classes.icon,\n        onClick: () => handleDeleteComment()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), isEdited && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.edited,\n      children: \"Edited\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Comment, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = Comment;\nconst useStyles = makeStyles({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: \"#F3F3F3\",\n    borderRadius: 10,\n    padding: \"8px 16px\",\n    marginBottom: 8\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  owner: {\n    fontWeight: 500,\n    marginRight: 8\n  },\n  time: {\n    fontSize: 12,\n    color: \"#ADAFA9\"\n  },\n  authorDetail: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    marginBottom: 4\n  },\n  icon: {\n    height: 20,\n    width: 20,\n    color: \"#7F817D\",\n    marginLeft: 8\n  },\n  postAuthor: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    width: 44,\n    height: 16,\n    backgroundColor: \"#5B5B5C\",\n    borderRadius: 5,\n    color: \"white\",\n    fontSize: 12,\n    marginRight: 8\n  },\n  edited: {\n    fontSize: 10,\n    color: \"#ADAFA9\",\n    fontStyle: \"italic\",\n    marginTop: 2\n  }\n});\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/Users/ajinn/Desktop/comp secure/classbadbad-blog-front/src/components/Comment.js"],"names":["React","Moment","axios","makeStyles","EditIcon","DeleteIcon","ROLE","ADMIN","USER","Comment","postId","postAuthor","commentId","content","isEdited","timestamp","commentAuthor","commentAuthorName","userId","userRole","getAllPosts","classes","useStyles","token","JSON","parse","localStorage","getItem","handleDeleteComment","response","delete","headers","message","data","console","log","e","container","header","authorDetail","owner","time","icon","edited","display","flexDirection","backgroundColor","borderRadius","padding","marginBottom","justifyContent","fontWeight","marginRight","fontSize","color","alignItems","height","width","marginLeft","fontStyle","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Moment from 'react-moment';\nimport axios from \"axios\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst ROLE = {\n  ADMIN: \"ADMIN\",\n  USER: \"USER\"\n}\n\nconst Comment = ({ \n  postId,\n  postAuthor,\n  commentId,\n  content,\n  isEdited,\n  timestamp,\n  commentAuthor,\n  commentAuthorName,\n  userId,\n  userRole,\n  getAllPosts\n}) => {\n  const classes = useStyles();\n  const token = JSON.parse(localStorage.getItem('token'));\n\n  const handleDeleteComment = async () => {\n    try {\n      const response = await axios.delete(\"http://localhost:3000/post/comment/\"+postId+\"/\"+commentId, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const { message } = response.data;\n      if (message) {\n        console.log(message);\n        getAllPosts();\n      } else {\n        console.log(\"DeleteComment Error\");\n      } \n    } catch (e) {\n      console.log(\"There are something wrong about delete comment :(\");\n    }\n  };\n  \n  return (\n    <div className={classes.container}>\n      <div className={classes.header}>\n        <div className={classes.authorDetail}>\n          <div className={classes.owner}>{commentAuthorName}</div>\n          { postAuthor === commentAuthor &&\n            <div className={classes.postAuthor}>\n              <div>Author</div>\n            </div>\n          }\n          <Moment className={classes.time} fromNow>{timestamp}</Moment>\n        </div>\n        { (userRole === ROLE.ADMIN || userId === commentAuthor) &&\n          <div>\n            <EditIcon className={classes.icon}/>\n            <DeleteIcon \n              className={classes.icon} \n              onClick={() => handleDeleteComment()}\n            />\n          </div>\n        }\n        { (userId === postAuthor && userId !== commentAuthor) &&\n          <DeleteIcon \n              className={classes.icon} \n              onClick={() => handleDeleteComment()}\n            />\n        }\n      </div>\n      <div>{content}</div>\n      { isEdited &&\n        <div className={classes.edited}>Edited</div>\n      }\n    </div>\n  );\n};\n  \n  const useStyles = makeStyles({\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      backgroundColor: \"#F3F3F3\",\n      borderRadius: 10,\n      padding: \"8px 16px\",\n      marginBottom: 8\n    },\n    header: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    owner:{\n      fontWeight: 500,\n      marginRight: 8,\n    },\n    time: {\n      fontSize: 12,\n      color: \"#ADAFA9\"\n    },\n    authorDetail: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"flex-end\",\n      marginBottom: 4\n    },\n    icon: {\n      height: 20,\n      width: 20,\n      color: \"#7F817D\",\n      marginLeft: 8\n    },\n    postAuthor: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      width: 44,\n      height: 16,\n      backgroundColor: \"#5B5B5C\",\n      borderRadius: 5,\n      color: \"white\",\n      fontSize: 12,\n      marginRight: 8\n    },\n    edited: {\n      fontSize: 10,\n      color: \"#ADAFA9\",\n      fontStyle: \"italic\",\n      marginTop: 2\n    }\n  });\n  \n  export default Comment;\n  "]},"metadata":{},"sourceType":"module"}